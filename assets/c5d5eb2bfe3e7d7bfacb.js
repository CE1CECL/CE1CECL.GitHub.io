"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[86955],{862976:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=P;var r,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}(n(667294)),a=n(536211),o=c(n(669879)),u=c(n(871778)),l=n(799393),s=c(n(350957)),f=n(839924);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103)
;var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=i;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t,n,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){g(a,r,i,o,u,"next",e)}function u(e){g(a,r,i,o,u,"throw",e)}o(void 0)}))}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){u=!0;i=e}finally{try{o||null==n.return||n.return()
}finally{if(u)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(){var e=(0,a.useStateFromStores)([u.default],(function(){return u.default.theme})),t=(0,a.useStateFromStores)([s.default],(function(){return s.default.getIsDisableSubmit()})),n=(0,a.useStateFromStores)([s.default],(function(){return s.default.getGuild()})),r=y(i.useState(!1),2),c=r[0],d=r[1],g=i.useCallback(v(regeneratorRuntime.mark((function e(){var t,r,i
;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0);t=s.default.getAllPending();r=(0,f.getGuildIdentitySettingsPatch)(t);if(0!==Object.keys(r).length){e.next=5;break}return e.abrupt("return");case 5:e.next=7;return(0,l.saveGuildIdentityChanges)(null==n?void 0:n.id,r);case 7:(null==(i=e.sent)?void 0:i.ok)&&(0,l.resetAllPending)();d(!1);case 10:case"end":return e.stop()}}),e)}))),[null==n?void 0:n.id]),m=i.useCallback((function(){(0,l.resetAllPending)()}),[]);return p(o.default,{theme:e,submitting:c,onSave:g,onReset:m,disabled:t})}P.displayName="GuildIdentitySettingsNotice"},799017:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=z
;var r,i=j(n(667294)),a=C(n(441143)),o=n(235234),u=n(536211),l=C(n(636602)),s=C(n(226800)),f=C(n(898361)),c=C(n(954140)),d=C(n(844784)),p=C(n(37039)),g=j(n(125478)),v=n(102975),y=C(n(468532)),m=C(n(845176)),P=C(n(871778)),S=C(n(728429)),I=C(n(380439)),h=n(645758),E=C(n(417184)),b=n(194322),_=C(n(308920)),O=C(n(838583)),A=n(799393),w=C(n(350957)),M=C(n(240196)),N=C(n(862976)),k=n(770348),R=C(n(247001)),T=C(n(923247));function C(e){return e&&e.__esModule?e:{default:e}}function G(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(G=function(e){return e?n:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=G(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null
;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e;n&&n.set(e,r);return r}function D(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=i;else if(o>1){for(var u=new Array(o),l=0;l<o;l++)u[l]=arguments[l+3];t.children=u}if(t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(){U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};return U.apply(this,arguments)}function F(e,t,n,r,i,a,o){try{var u=e[a](o),l=u.value}catch(e){n(e);return}u.done?t(l):Promise.resolve(l).then(r,i)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){F(a,r,i,o,u,"next",e)}
function u(e){F(a,r,i,o,u,"throw",e)}o(void 0)}))}}function B(){_.default.track(k.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:k.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS,location_object:k.AnalyticsObjects.BADGE});(0,A.closeGuildIdentitySettings)();s.default.open(k.UserSettingsSections.PREMIUM)}function x(e){(0,b.openModalLazy)(L(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;return n.e(83084).then(n.bind(n,858023));case 2:r=t.sent;a=r.default;return t.abrupt("return",(function(t){return i.createElement(a,U({source:U({},e,{page:k.AnalyticsPages.GUILD_MEMBER_PROFILE_SETTINGS})},t))}));case 5:case"end":return t.stop()}}),t)}))))}var W="GUILD_IDENTITY_SETTINGS_PAGE",H=D(M.default,{});function Y(){var e,t,n=(0,u.useStateFromStores)([S.default],(function(){var e=S.default.getCurrentUser();(0,a.default)(null!=e,"GuildIdentitySettingsPage: user cannot be undefined");return e})),r=(0,
u.useStateFromStoresObject)([w.default],(function(){var e=w.default.getAllPending(),t=e.pendingAvatar,n=e.pendingNickname,r=e.pendingBio,i=e.pendingPronouns;return{pendingAvatar:t,pendingNickname:n,pendingBanner:e.pendingBanner,pendingBio:r,pendingPronouns:i,errors:w.default.getErrors(),guild:w.default.getGuild(),source:w.default.getSource()}})),f=r.pendingAvatar,c=r.pendingNickname,p=r.pendingBanner,P=r.pendingBio,b=r.pendingPronouns,_=r.guild,M=r.source;i.useEffect((function(){return function(){return l.default.wait(A.resetAllPending)}}),[]);i.useEffect((function(){null!=M&&d.default.trackWithMetadata(k.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"guild",destination_pane:k.AnalyticsSections.SETTINGS_CUSTOMIZE_PROFILE,source:M})}),[M]);var N=void 0===f?n.getAvatarURL(null==_?void 0:_.id,80,!0):f,C=null!==(e=(0,o.hex2int)((0,g.default)(N,k.Colors.PRIMARY_DARK_530,g.ColorFormats.HEX)))&&void 0!==e?e:0,G=O.default.canUsePremiumProfileCustomization(n)
;return null==_?null:i.createElement(i.Fragment,null,D("div",{className:T.default.notice},void 0,D(E.default,{className:T.default.warningCircleIcon}),D(h.Text,{variant:"text-sm/normal"},void 0,R.default.Messages.CHANGE_IDENTITY_USER_PROFILE_HELP.format({onUserProfileClick:function(){(0,A.closeGuildIdentitySettings)();s.default.open(k.UserSettingsSections.PROFILE_CUSTOMIZATION)}}))),D(y.default,{title:D("span",{className:T.default.title},void 0,R.default.Messages.CHANGE_IDENTITY_SERVER_PROFILE),description:D(h.Text,{className:T.default.guildInfo,variant:"text-sm/normal"},void 0,D(I.default,{className:T.default.guildIconInline,guild:_,size:I.default.Sizes.MINI},"guild-icon"),D("span",{},void 0,_.name)),previewTitle:R.default.Messages.CHANGE_IDENTITY_PREVIEW,profilePreview:D(m.default,{user:n,guild:_,canUsePremiumCustomization:G,bannerColor:null!==(t=n.accentColor)&&void 0!==t?t:C,onAvatarChange:A.setPendingAvatar,onBannerChange:A.setPendingBanner,onUpsellClick:x,pendingBanner:p,
pendingBio:P,pendingPronouns:b,pendingAvatar:f,pendingNickname:c,activityName:R.default.Messages.CHANGE_IDENTITY_SERVER_PROFILE,activityCharacter:v.FakeActivityCharacter.PHIBI,openPremiumSettings:B})},void 0,H))}function z(){var e=(0,u.useStateFromStores)([P.default],(function(){return P.default.theme}));return D((0,p.default)(c.default.GUILD_PROFILE).AnalyticsLocationProvider,{},void 0,D(f.default,{theme:e,section:W,sections:[{section:W,label:null,element:Y,notice:{store:w.default,element:N.default}}],onClose:A.closeGuildIdentitySettings,hideSidebar:!0}))}z.displayName="GuildIdentitySettings"}}]);
//# sourceMappingURL=c5d5eb2bfe3e7d7bfacb.js.map